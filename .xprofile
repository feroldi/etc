#!/bin/sh

export PATH="/usr/local/sbin:/usr/local/bin:/usr/bin:$HOME/bin"
export TERM=screen-256color

export EDITOR=nvim
export VISUAL=nvim
export PAGER=less

# GPG agent support for SSH
#
# The test involving the gnupg_SSH_AUTH_SOCK_by variable is for the case
# where the agent is started as gpg-agent --daemon /bin/sh, in which case
# the shell inherits the SSH_AUTH_SOCK variable from the parent, gpg-agent
# unset SSH_AGENT_PID
if [ "${gnupg_SSH_AUTH_SOCK_by:-0}" -ne $$ ]; then
  export SSH_AUTH_SOCK="/run/user/$UID/gnupg/S.gpg-agent.ssh"
fi

export GPG_TTY=$(tty)

# Refresh gpg-agent tty in case user switches into an X session.
gpg-connect-agent updatestartuptty /bye >/dev/null

# Use local virtualenv rather than global site packages.
source $HOME/.pythonenv/bin/activate
source $HOME/.cargo/env
